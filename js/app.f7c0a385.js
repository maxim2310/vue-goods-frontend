(function(){"use strict";var e={8325:function(e,t,r){var o=r(5471),i=r(8505),n=r(5972),a=r(7954),s=r(7410),c=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(i.A,[t(n.A,{attrs:{app:"",color:"primary",dark:""}},[t(s.A)],1),t(a.A,[t("keep-alive",{attrs:{include:"HomeView"}},[t("router-view")],1)],1)],1)},u=[],l=o.Ay.extend({name:"App",data:()=>({})}),d=l,h=r(1656),f=(0,h.A)(d,c,u,!1,null,null,null),p=f.exports,y=r(173),g=r(7432),m=r(1526),v=r(6278),b=r(2585),A=r(8412),_=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(v.A,[t("h1",{staticClass:"my-4"},[e._v("Каталог товарів")]),e.error?t(g.A,{attrs:{type:"error"}},[e._v(e._s(e.error))]):e._e(),t("ProductFilters",{attrs:{value:e.filters,categories:e.categories,defaultCategory:e.defaultCategory,"min-price":e.minPrice,"max-price":e.maxPrice},on:{input:e.onFiltersChange}}),e.loading?t(b.A,{attrs:{indeterminate:"",color:"primary"}}):e._e(),t(A.A,e._l(e.filteredGoods,(function(r){return t(m.A,{key:r.id,attrs:{cols:"12",sm:"6",md:"4"}},[t("ProductCard",{attrs:{good:r},nativeOn:{click:function(t){return e.goToDetails(r.id)}}})],1)})),1)],1)},C=[],P=(r(4114),r(8111),r(2489),r(1701),r(7642),r(8004),r(3853),r(5876),r(2475),r(5024),r(1698),r(5353)),x=r(375),F=r(1689),T=r(8834),w=r(980),Q=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(F.A,{staticClass:"mx-auto",attrs:{"max-width":"344",outlined:""},on:{click:function(t){return e.$emit("click")}}},[t(w.A,{attrs:{src:e.good.imageUrl,height:"200px"}}),t(T.ri,[e._v(e._s(e.good.name))]),t(T.OQ,[t("div",{staticClass:"text--secondary"},[e._v("Category: "+e._s(e.good.category))]),t("div",{staticClass:"text-h6"},[e._v("Price: $"+e._s(e.good.price.toFixed(2)))])]),t(T.SL,[t(x.A,{attrs:{text:"",small:"",color:"primary"}},[e._v("View Details")])],1)],1)},k=[],S=o.Ay.extend({name:"ProductCard",props:{good:{type:Object,required:!0}}}),N=S,q=(0,h.A)(N,Q,k,!1,null,"06359611",null),O=q.exports,$=r(1921),j=r(3598),E=r(9940),L=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(A.A,[t(m.A,{attrs:{cols:"12",sm:"6",md:"4"}},[t(E.A,{attrs:{label:"Пошук за назвою",clearable:""},model:{value:e.localSearchQuery,callback:function(t){e.localSearchQuery=t},expression:"localSearchQuery"}})],1),t(m.A,{attrs:{cols:"12",sm:"6",md:"4"}},[t(j.A,{attrs:{items:[e.defaultCategory,...e.categories],label:"Категорія",clearable:""},model:{value:e.localCategory,callback:function(t){e.localCategory=t},expression:"localCategory"}})],1),t(m.A,{attrs:{cols:"12",sm:"6",md:"4"}},[t($.A,{attrs:{min:e.minPrice,max:e.maxPrice,label:"Ціна","hide-details":""},model:{value:e.localPriceRange,callback:function(t){e.localPriceRange=t},expression:"localPriceRange"}}),t("div",[e._v("Від "+e._s(e.localPriceRange[0])+" до "+e._s(e.localPriceRange[1])+" грн")])],1)],1)},R=[],D=o.Ay.extend({name:"ProductFilters",props:{value:{type:Object,required:!0},categories:{type:Array,required:!0},minPrice:{type:Number,required:!0},maxPrice:{type:Number,required:!0},defaultCategory:{type:String,required:!0}},data(){return{localSearchQuery:this.value.searchQuery,localCategory:this.value.category,localPriceRange:[this.value.priceFrom,this.value.priceTo]}},watch:{localCategory(e){e!==this.value.category&&this.emitFilters()},localPriceRange(e){e[0]===this.value.priceFrom&&e[1]===this.value.priceTo||this.emitFilters()},localSearchQuery(e){e!==this.value.localSearchQuery&&this.emitFilters()},value:{handler(e){this.localCategory=e.category,this.localPriceRange=[e.priceFrom,e.priceTo],this.localSearchQuery=e.searchQuery},deep:!0}},methods:{emitFilters(){this.$emit("input",{category:this.localCategory,priceFrom:this.localPriceRange[0],priceTo:this.localPriceRange[1],searchQuery:this.localSearchQuery})}}}),G=D,H=(0,h.A)(G,L,R,!1,null,null,null),M=H.exports;function U(e,t){let r;return function(...o){clearTimeout(r),r=setTimeout((()=>{e.apply(this,o)}),t)}}var B=o.Ay.extend({name:"HomeView",components:{ProductCard:O,ProductFilters:M},data(){return{defaultCategory:"--Default--",filters:{category:"",priceFrom:0,priceTo:0,searchQuery:""}}},computed:{...(0,P.aH)({goods:e=>e.goods,loading:e=>e.loading,error:e=>e.error}),categories(){return[...new Set(this.goods.map((e=>e.category)))]},minPrice(){return this.goods.length?Math.min(...this.goods.map((e=>e.price))):0},maxPrice(){return this.goods.length?Math.max(...this.goods.map((e=>e.price))):100},filteredGoods(){return this.goods.filter((e=>{const t=!this.filters.category||e.category===this.filters.category||this.filters.category===this.defaultCategory,r=(!this.filters.priceFrom||e.price>=this.filters.priceFrom)&&(!this.filters.priceTo||e.price<=this.filters.priceTo),o=!this.filters.searchQuery||e.name.toLowerCase().includes(this.filters.searchQuery.toLowerCase());return t&&r&&o}))}},methods:{...(0,P.i0)(["fetchGoods"]),goToDetails(e){this.$router.push({name:"ProductDetails",params:{id:e.toString()}})},onFiltersChange(e){this.filters={...e},this.debounceUpdate()},updateRouteQuery(){const e={...this.filters.category&&{category:this.filters.category},...null!==this.filters.priceFrom&&!Number.isNaN(this.filters.priceFrom)&&{priceFrom:this.filters.priceFrom},...null!==this.filters.priceTo&&!Number.isNaN(this.filters.priceTo)&&{priceTo:this.filters.priceTo},...null!==this.filters.searchQuery&&this.filters.searchQuery.length&&{searchQuery:this.filters.searchQuery}},t=this.$route.query,r=t.category===e.category&&Number(t.priceFrom)===e.priceFrom&&Number(t.priceTo)===e.priceTo&&t.searchQuery===e.searchQuery;r||this.$router.replace({query:e})},debounceUpdate:U((function(){this.updateRouteQuery()}),300)},created(){this.fetchGoods().then((()=>{this.$route.query.category&&"string"===typeof this.$route.query.category&&(this.filters.category=this.$route.query.category),this.$route.query.searchQuery&&"string"===typeof this.$route.query.searchQuery&&(this.filters.searchQuery=this.$route.query.searchQuery),this.filters.priceFrom=this.$route.query.priceFrom?Number(this.$route.query.priceFrom):this.minPrice,this.filters.priceTo=this.$route.query.priceTo?Number(this.$route.query.priceTo):this.maxPrice}))}}),V=B,I=(0,h.A)(V,_,C,!1,null,null,null),K=I.exports;o.Ay.use(y.Ay);const z=[{path:"/",name:"Home",component:K},{path:"/product/:id",name:"ProductDetails",component:()=>r.e(826).then(r.bind(r,4826)),props:!0}],J=new y.Ay({mode:"hash",base:"/vue-goods-frontend/",routes:z});var W=J,X=r(4335);const Y=X.A.create({baseURL:"https://vue-goods-service.onrender.com",headers:{"Content-Type":"application/json"}});var Z=Y;o.Ay.use(P.Ay);var ee=new P.Ay.Store({state:{goods:[],loading:!1,error:null},mutations:{setGoods(e,t){e.goods=t},setLoading(e,t){e.loading=t},setError(e,t){e.error=t}},actions:{async fetchGoods({commit:e}){e("setLoading",!0);try{const t=await Z.get("/goods");console.log(t.data),e("setGoods",t.data),e("setError",null)}catch(t){e("setError","Failed to fetch goods")}finally{e("setLoading",!1)}}},getters:{allGoods(e){return e.goods}},modules:{}}),te=r(5453);o.Ay.use(te.A);var re=new te.A({});o.Ay.config.productionTip=!1,new o.Ay({router:W,store:ee,vuetify:re,render:e=>e(p)}).$mount("#app")}},t={};function r(o){var i=t[o];if(void 0!==i)return i.exports;var n=t[o]={exports:{}};return e[o].call(n.exports,n,n.exports,r),n.exports}r.m=e,function(){var e=[];r.O=function(t,o,i,n){if(!o){var a=1/0;for(l=0;l<e.length;l++){o=e[l][0],i=e[l][1],n=e[l][2];for(var s=!0,c=0;c<o.length;c++)(!1&n||a>=n)&&Object.keys(r.O).every((function(e){return r.O[e](o[c])}))?o.splice(c--,1):(s=!1,n<a&&(a=n));if(s){e.splice(l--,1);var u=i();void 0!==u&&(t=u)}}return t}n=n||0;for(var l=e.length;l>0&&e[l-1][2]>n;l--)e[l]=e[l-1];e[l]=[o,i,n]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){r.f={},r.e=function(e){return Promise.all(Object.keys(r.f).reduce((function(t,o){return r.f[o](e,t),t}),[]))}}(),function(){r.u=function(e){return"js/"+e+".4e500489.js"}}(),function(){r.miniCssF=function(e){return"css/"+e+".9065eccd.css"}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="goods-catalog:";r.l=function(o,i,n,a){if(e[o])e[o].push(i);else{var s,c;if(void 0!==n)for(var u=document.getElementsByTagName("script"),l=0;l<u.length;l++){var d=u[l];if(d.getAttribute("src")==o||d.getAttribute("data-webpack")==t+n){s=d;break}}s||(c=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,r.nc&&s.setAttribute("nonce",r.nc),s.setAttribute("data-webpack",t+n),s.src=o),e[o]=[i];var h=function(t,r){s.onerror=s.onload=null,clearTimeout(f);var i=e[o];if(delete e[o],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(r)})),t)return t(r)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),c&&document.head.appendChild(s)}}}(),function(){r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){r.p="/vue-goods-frontend/"}(),function(){if("undefined"!==typeof document){var e=function(e,t,o,i,n){var a=document.createElement("link");a.rel="stylesheet",a.type="text/css",r.nc&&(a.nonce=r.nc);var s=function(r){if(a.onerror=a.onload=null,"load"===r.type)i();else{var o=r&&r.type,s=r&&r.target&&r.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+o+": "+s+")");c.name="ChunkLoadError",c.code="CSS_CHUNK_LOAD_FAILED",c.type=o,c.request=s,a.parentNode&&a.parentNode.removeChild(a),n(c)}};return a.onerror=a.onload=s,a.href=t,o?o.parentNode.insertBefore(a,o.nextSibling):document.head.appendChild(a),a},t=function(e,t){for(var r=document.getElementsByTagName("link"),o=0;o<r.length;o++){var i=r[o],n=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(n===e||n===t))return i}var a=document.getElementsByTagName("style");for(o=0;o<a.length;o++){i=a[o],n=i.getAttribute("data-href");if(n===e||n===t)return i}},o=function(o){return new Promise((function(i,n){var a=r.miniCssF(o),s=r.p+a;if(t(a,s))return i();e(o,s,null,i,n)}))},i={524:0};r.f.miniCss=function(e,t){var r={826:1};i[e]?t.push(i[e]):0!==i[e]&&r[e]&&t.push(i[e]=o(e).then((function(){i[e]=0}),(function(t){throw delete i[e],t})))}}}(),function(){var e={524:0};r.f.j=function(t,o){var i=r.o(e,t)?e[t]:void 0;if(0!==i)if(i)o.push(i[2]);else{var n=new Promise((function(r,o){i=e[t]=[r,o]}));o.push(i[2]=n);var a=r.p+r.u(t),s=new Error,c=function(o){if(r.o(e,t)&&(i=e[t],0!==i&&(e[t]=void 0),i)){var n=o&&("load"===o.type?"missing":o.type),a=o&&o.target&&o.target.src;s.message="Loading chunk "+t+" failed.\n("+n+": "+a+")",s.name="ChunkLoadError",s.type=n,s.request=a,i[1](s)}};r.l(a,c,"chunk-"+t,t)}},r.O.j=function(t){return 0===e[t]};var t=function(t,o){var i,n,a=o[0],s=o[1],c=o[2],u=0;if(a.some((function(t){return 0!==e[t]}))){for(i in s)r.o(s,i)&&(r.m[i]=s[i]);if(c)var l=c(r)}for(t&&t(o);u<a.length;u++)n=a[u],r.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return r.O(l)},o=self["webpackChunkgoods_catalog"]=self["webpackChunkgoods_catalog"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=r.O(void 0,[504],(function(){return r(8325)}));o=r.O(o)})();
//# sourceMappingURL=app.f7c0a385.js.map